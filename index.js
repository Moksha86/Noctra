const { Telegraf } = require('telegraf');

// üîë –í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather
const BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê";
if (!BOT_TOKEN) {
  throw new Error("–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞. –ü–æ–ª—É—á–∏—Ç–µ –µ–≥–æ —É @BotFather.");
}

const bot = new Telegraf(BOT_TOKEN);

// üìå –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
bot.start((ctx) => {
  ctx.reply('üåô –ü—Ä–∏–≤–µ—Ç! –Ø ‚Äî Noctra, —Ç–≤–æ–π –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –∑–≤—ë–∑–¥–∞–º ‚ú®');
});

// üìå –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥—è—â–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
bot.on('text', (ctx) => {
  const userMessage = ctx.message.text;
  ctx.reply(`üîÆ –¢—ã –Ω–∞–ø–∏—Å–∞–ª: "${userMessage}"\n‚ú® –ó–≤—ë–∑–¥—ã –≥–æ—Ç–æ–≤—è—Ç –¥–ª—è —Ç–µ–±—è –æ—Ç–≤–µ—Ç...`);
});

// üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bot.launch()
  .then(() => console.log("‚úÖ –ë–æ—Ç Noctra —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω"))
  .catch((err) => console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:", err));
